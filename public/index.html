<!doctype html>
<html>
<head>
    <title>Cloud hunters</title>
    <link rel="stylesheet" href="/style.css">
    <link href="https://fonts.googleapis.com/css2?family=MuseoModerno&family=Raleway&display=swap" rel="stylesheet">
</head>
<body>
    <h1 class="header">Cloud hunters</h1>
    <div id="main">
        <form class="main-form">
                <input
                    v-model="title"
                    type="text"
                    name="title"
                    placeholder="title"
                />
                <input
                    v-model="description"
                    type="text"
                    name="description"
                    placeholder="description"
                />
                <input
                    v-model="username"
                    type="text"
                    name="username"
                    placeholder="username"
                />
                <input
                    @change="handleChange"
                    type="file"
                    name="file"
                    accept="image/*"
                />
                <button class="main-button"
                @click="handleClick">Share my cloud</button>
        </form>
        <div class="imgs-container">
            <div v-if="images" v-for="image in images" class="img-container" > 
                <a :href=" '#' + image.id">
                    <img :src="image.url" alt="" class="img">
                    <p>{{image.title}}</p>
                    <!-- <p>{{image.description}}</p> -->
                </a>
            </div>
        </div>
        <div>
            <button v-if="notLastRow" @click="getMoreImages">More</button>
        </div>
       
        <image-component 
            v-if="id" 
            :id="id"
            @close="closeModal"
        ></image-component>
    </div>

    <script type="text/x-template" id="template">
        <div class="component">
            <div>
                <button class="closemodal" @click="closeModal">Close</button>
            </div>
            <div class="component-general">
                <div class="component-img-info">
                    <img class="component-img" :src="url" alt="">
                    <div class="component-info">
                        <p class="component-title"> {{title}}</p>
                        <p class="description">{{description}}</p>
                        <p class="added-by">Uploaded by {{username}} on {{created_at}}</p>
                    </div>
                </div>
                <div class="comments">
                    <h1 class="header">Comments</h1>
                    <div class="comments-box">
                        <div class="comment" v-for="comment in comments">
                            <p class="comment-comment">{{comment.comment}}</p>
                            <p class="added-by">{{comment.username}} | {{comment.created_at}}</p>
                        </div>
                    </div>
                    <form class="comments-form">
                        <input
                        v-model="userCommented"
                        type="text"
                        name="username"
                        placeholder="Your username"
                    />
                    <input
                        v-model="newComment"
                        type="text"
                        name="comment"
                        placeholder="Comment here"
                    />
                    <button @click="handleClick">submit</button>
                    </form>
                </div>       
            </div> 
        </div>
    </script>

    <script src="/js/vue.js"></script>
    <script src="/js/axios.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="/js/script.js"></script>
</body>
</html>
